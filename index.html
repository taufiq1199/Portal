<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Taufiq</title>
    <style>
        /* Reset dan Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            font-size: 2rem;
        }

        /* Menu Button */
        .menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 999;
            overflow-y: auto;
        }

        .sidebar.active {
            left: 0;
        }

        .sidebar-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-header h3 {
            font-size: 1.3rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .sidebar-menu {
            padding: 1rem 0;
        }

        .sidebar-menu h4 {
            padding: 0.8rem 1.5rem;
            color: #6e8efb;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sidebar-menu ul {
            list-style: none;
        }

        .sidebar-menu li a {
            display: block;
            padding: 0.8rem 1.5rem;
            color: #555;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .sidebar-menu li a:hover {
            background-color: #f0f4ff;
            color: #6e8efb;
            padding-left: 1.8rem;
        }

        .sidebar-menu li {
            position: relative;
        }
        .sidebar-menu li a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        .upload-btn {
            position: absolute;
            right: 15px;
            color: #6e8efb;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .sidebar-menu li:hover .upload-btn {
            opacity: 1;
        }
        .upload-btn:hover {
            color: #5a7af0;
            transform: scale(1.1);
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Main Content */
        main {
            margin-top: 80px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .main.active {
            margin-left: 300px;
        }

        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://source.unsplash.com/random/1200x600/?science');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 4rem 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .btn {
            display: inline-block;
            background: #6e8efb;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn:hover {
            background: #5a7af0;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Card Grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .card-img {
            height: 180px;
            overflow: hidden;
        }

        .card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.5s ease;
        }

        .card:hover .card-img img {
            transform: scale(1.1);
        }

        .card-content {
            padding: 1.5rem;
        }

        .card-content h3 {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .card-content p {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1.5rem 1.5rem;
        }

        .tag {
            display: inline-block;
            background: #f0f4ff;
            color: #6e8efb;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
        }

        .modal-title {
            margin-bottom: 1.5rem;
            color: #6e8efb;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #555;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn-secondary {
            background: #ddd;
            color: #333;
        }

        .btn-secondary:hover {
            background: #ccc;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: left;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: #6e8efb;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 0.8rem;
        }

        .footer-column ul li a {
            color: #bdc3c7;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-column ul li a:hover {
            color: #6e8efb;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: #6e8efb;
            transform: translateY(-3px);
        }

        .copyright {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: #bdc3c7;
        }

        /* Modern Form Styles */
        .modern-form {
            margin-top: 1.5rem;
        }
        
        .form-field {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .form-field input {
            width: 100%;
            padding: 0.5rem 0;
            border: none;
            border-bottom: 1px solid #bdc3c7;
            background: transparent;
            color: white;
        }
        
        .form-field input:focus {
            outline: none;
        }
        
        .form-field label {
            position: absolute;
            top: 0.5rem;
            left: 0;
            color: #bdc3c7;
            transition: all 0.3s;
        }
        
        .form-field input:focus ~ label,
        .form-field input:valid ~ label {
            top: -1rem;
            font-size: 0.8rem;
            color: #6e8efb;
        }
        
        .underline {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #6e8efb;
            transition: all 0.3s;
        }
        
        .form-field input:focus ~ .underline {
            width: 100%;
        }
        
        .modern-btn {
            background: transparent;
            color: white;
            border: 1px solid #6e8efb;
            padding: 0.5rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modern-btn:hover {
            background: #6e8efb;
        }
        /* New styles for carousel */
        .carousel-container {
            width: 100%;
            overflow: hidden;
            position: relative;
            margin: 1.5rem 0;
        }

        .carousel {
            display: flex;
            transition: transform 0.5s ease;
            gap: 1.5rem;
            padding: 0.5rem 0;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .carousel-btn:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-btn.prev {
            left: 10px;
        }

        .carousel-btn.next {
            right: 10px;
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .carousel-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-indicator.active {
            background: #6e8efb;
            transform: scale(1.2);
        }

        /* Adjust card size in carousel */
        .carousel .card {
            min-width: 280px;
            flex-shrink: 0;
        }

        /* Section title */
        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .section-title h2 {
            font-size: 1.5rem;
            color: #333;
        }

        .view-all {
            color: #6e8efb;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .view-all:hover {
            text-decoration: underline;
        }
        /* Responsive Styles */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .main.active {
                margin-left: 0;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }
            
            .logo {
                font-size: 1.5rem;
            }
            
            main {
                padding: 1rem;
                margin-top: 70px;
            }
            
            .hero {
                padding: 3rem 1rem;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .sidebar {
                width: 280px;
                left: -280px;
            }

            .modal-content {
                padding: 1.5rem;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .modal-footer {
                flex-direction: column;
            }

            .modal-footer .btn {
                width: 100%;
            }
        }
    </style>
    <!-- Font Awesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <i class="fas fa-atom"></i>
            <span>Portal Taufiq</span>
        </div>
        <button class="menu-btn" id="menuBtn">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Topik Ilmu</h3>
            <button class="close-btn" id="closeBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-menu">
            <h4>Ilmu Falak</h4>
            <ul>
                <li>
                    <a href="algoritma.html"><i class="fas fa-square-root-alt"></i> Logaritma</a>
                    <span class="upload-btn" data-discipline="Matematika"><i class="fas fa-upload"></i></span>
                </li>
                <li>
                    <a href="kabisat.html"><i class="fas fa-atom"></i> Kabisat</a>
                    <span class="upload-btn" data-discipline="Fisika"><i class="fas fa-upload"></i></span>
                </li>
                <li>
                    <a href="#"><i class="fas fa-flask"></i> Kimia</a>
                    <span class="upload-btn" data-discipline="Kimia"><i class="fas fa-upload"></i></span>
                </li>
                <li>
                    <a href="#"><i class="fas fa-dna"></i> Biologi</a>
                    <span class="upload-btn" data-discipline="Biologi"><i class="fas fa-upload"></i></span>
                </li>
                <li>
                    <a href="#"><i class="fas fa-laptop-code"></i> Ilmu Komputer</a>
                    <span class="upload-btn" data-discipline="Ilmu Komputer"><i class="fas fa-upload"></i></span>
                </li>
            </ul>
            
            <h4>Ilmu Sosial</h4>
            <ul>
                <li><a href="#"><i class="fas fa-landmark"></i> Ekonomi</a></li>
                <li><a href="#"><i class="fas fa-gavel"></i> Hukum</a></li>
                <li><a href="#"><i class="fas fa-users"></i> Sosiologi</a></li>
                <li><a href="#"><i class="fas fa-brain"></i> Psikologi</a></li>
                <li><a href="#"><i class="fas fa-globe-asia"></i> Geografi</a></li>
            </ul>
            
            <h4>Ilmu Humaniora</h4>
            <ul>
                <li><a href="#"><i class="fas fa-book"></i> Sastra</a></li>
                <li><a href="#"><i class="fas fa-history"></i> Sejarah</a></li>
                <li><a href="#"><i class="fas fa-paint-brush"></i> Seni</a></li>
                <li><a href="#"><i class="fas fa-language"></i> Linguistik</a></li>
                <li><a href="#"><i class="fas fa-monument"></i> Arkeologi</a></li>
            </ul>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main id="main">
        <section class="hero">
            <h1>Jelajahi Dunia Ilmu Pengetahuan</h1>
            <p>Temukan berbagai disiplin ilmu dari yang paling dasar hingga terapan, semua dalam satu platform yang mudah diakses.</p>
            <a href="#" class="btn" id="startLearningBtn">Mulai Belajar</a>
        </section>

        <!-- HTML Articles Carousel -->
        <div class="section-title">
            <h2>  Unggulan</h2>
            <a href="#" class="view-all" id="viewAllHtml">Lihat Semua</a>
        </div>
        <div class="carousel-container">
            <button class="carousel-btn prev"><i class="fas fa-chevron-left"></i></button>
            <div class="carousel" id="htmlCarousel"></div>
            <button class="carousel-btn next"><i class="fas fa-chevron-right"></i></button>
            <div class="carousel-indicators" id="carouselIndicators"></div>
        </div>

        <!-- Regular Articles Grid -->
        <div class="section-title">
            <h2>  Terbaru</h2>
            <a href="#" class="view-all" id="viewAllArticles">Lihat Semua</a>
        </div>
        <div class="card-grid" id="articleGrid"></div>
    </main>
        <script>
        // Initialize local storage if empty
        if (!localStorage.getItem('articles')) {
            localStorage.setItem('articles', JSON.stringify([]));
        }

        // Auto-detect HTML articles from sidebar menu
        function detectHtmlArticles() {
            const htmlArticles = [];
            const menuItems = document.querySelectorAll('.sidebar-menu li a');
            
            menuItems.forEach(item => {
                const href = item.getAttribute('href');
                if (href && href.endsWith('.html')) {
                    const title = item.textContent.trim();
                    const discipline = item.parentElement.querySelector('.upload-btn')?.getAttribute('data-discipline') || 'Umum';
                    
                    htmlArticles.push({
                        id: href.replace('.html', ''),
                        title: title,
                        discipline: discipline,
                        description: `  tentang ${title} dalam bidang ${discipline}`,
                        htmlFile: href,
                        image: `https://source.unsplash.com/random/400x300/?${discipline.toLowerCase().replace(' ', ',')}`
                    });
                }
            });
            
            return htmlArticles;
        }

        // Carousel functionality
        function setupCarousel() {
            const carousel = document.getElementById('htmlCarousel');
            const prevBtn = document.querySelector('.carousel-btn.prev');
            const nextBtn = document.querySelector('.carousel-btn.next');
            const indicators = document.getElementById('carouselIndicators');
            
            const htmlArticles = detectHtmlArticles();
            let currentIndex = 0;
            let cardsPerView = Math.min(4, Math.floor(window.innerWidth / 300));
            
            // Create carousel cards
            htmlArticles.forEach(article => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => {
                    const userGmail = localStorage.getItem('user_gmail');
                    if (userGmail && validateGmail(userGmail)) {
                        window.location.href = article.htmlFile;
                    } else {
                        openGmailModal(article.htmlFile);
                    }
                };
                
                card.innerHTML = `
                    <div class="card-img">
                        <img src="${article.image}" alt="${article.title}">
                    </div>
                    <div class="card-content">
                        <h3>${article.title}</h3>
                        <p>${article.description}</p>
                    </div>
                    <div class="card-footer">
                        <span class="tag">${article.discipline}</span>
                        <span><i class="fas fa-external-link-alt"></i></span>
                    </div>
                `;
                carousel.appendChild(card);
            });
            
            // Create indicators
            for (let i = 0; i < htmlArticles.length; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'carousel-indicator';
                if (i === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => {
                    currentIndex = i;
                    updateCarousel();
                });
                indicators.appendChild(indicator);
            }
            
            // Update carousel position
            function updateCarousel() {
                const cardWidth = document.querySelector('.carousel .card').offsetWidth + 24; // 24 is gap
                carousel.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
                
                // Update active indicator
                document.querySelectorAll('.carousel-indicator').forEach((ind, index) => {
                    ind.classList.toggle('active', index === currentIndex);
                });
            }
            
            // Navigation buttons
            prevBtn.addEventListener('click', () => {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateCarousel();
                }
            });
            
            nextBtn.addEventListener('click', () => {
                if (currentIndex < htmlArticles.length - cardsPerView) {
                    currentIndex++;
                    updateCarousel();
                }
            });
            
            // Responsive adjustments
            window.addEventListener('resize', () => {
                cardsPerView = Math.min(4, Math.floor(window.innerWidth / 300));
                updateCarousel();
            });
        }

        // Render regular articles
        function renderArticles() {
            const articleGrid = document.getElementById('articleGrid');
            const storedArticles = JSON.parse(localStorage.getItem('articles'));
            const sortedArticles = [...storedArticles].sort((a, b) => new Date(b.date || 0) - new Date(a.date || 0));
            
            sortedArticles.slice(0, 6).forEach(article => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => viewArticle(article.id);
                card.innerHTML = `
                    <div class="card-img">
                        <img src="https://source.unsplash.com/random/400x300/?${article.discipline.toLowerCase()}" alt="${article.title}">
                    </div>
                    <div class="card-content">
                        <h3>${article.title}</h3>
                        <p>${article.content.substring(0, 100)}...</p>
                    </div>
                    <div class="card-footer">
                        <span class="tag">${article.discipline}</span>
                        <span><i class="fas fa-eye"></i> ${article.views || 0}</span>
                    </div>
                `;
                articleGrid.appendChild(card);
            });
        }

        // View all buttons
        document.getElementById('viewAllHtml').addEventListener('click', function(e) {
            e.preventDefault();
            alert('Menampilkan semua   HTML');
            // You can implement a page showing all HTML articles here
        });

        document.getElementById('viewAllArticles').addEventListener('click', function(e) {
            e.preventDefault();
            alert('Menampilkan semua  ');
            // You can implement a page showing all articles here
        });

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            setupCarousel();
            renderArticles();
            
            // Rest of your initialization code...
        });

        // Rest of your JavaScript remains the same...
    </script>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Tentang Kami</h3>
                <p>Portal Ilmu adalah platform edukasi yang menyediakan akses ke berbagai disiplin ilmu pengetahuan untuk semua kalangan.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Kategori</h3>
                <ul>
                    <li><a href="#">Ilmu Eksakta</a></li>
                    <li><a href="#">Ilmu Sosial</a></li>
                    <li><a href="#">Ilmu Humaniora</a></li>
                    <li><a href="#">Teknologi</a></li>
                    <li><a href="#">Kesehatan</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Link Cepat</h3>
                <ul>
                    <li><a href="#">Beranda</a></li>
                    <li><a href="#"> </a></li>
                    <li><a href="#">Galeri</a></li>
                    <li><a href="#">Kontak</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Stay Updated</h3>
                <p>Bergabung dengan komunitas akademik kami</p>
                <form class="modern-form" id="subscribeForm">
                    <div class="form-field">
                        <input type="email" id="subscribeEmail" required>
                        <label>Email address</label>
                        <span class="underline"></span>
                    </div>
                    <button type="submit" class="modern-btn">
                        Subscribe <i class="fas fa-arrow-right"></i>
                    </button>
                </form>
            </div>
        </div>
        <div class="copyright">
            &copy; 2023 Portal Ilmu Pengetahuan. Semua hak dilindungi.
        </div>
    </footer>

    <!-- Gmail Modal -->
    <div class="modal" id="gmailModal">
        <div class="modal-content">
            <span class="modal-close" id="closeGmailModal">&times;</span>
            <h3 class="modal-title">Masukkan Gmail Anda</h3>
            <p style="margin-bottom: 1.5rem;">Untuk melanjutkan, silakan isi alamat Gmail terlebih dahulu.</p>
            <div class="form-group">
                <label for="gmailInput">Alamat Gmail</label>
                <input type="email" id="gmailInput" placeholder="nama@gmail.com" required>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelGmailBtn">Batal</button>
                <button class="btn" id="submitGmailBtn">Lanjut</button>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div class="modal" id="uploadModal">
        <div class="modal-content">
            <span class="modal-close" id="closeUploadModal">&times;</span>
            <h3 class="modal-title">Upload Tulisan</h3>
            <form id="uploadForm">
                <div class="form-group">
                    <label for="uploadTitle">Judul</label>
                    <input type="text" id="uploadTitle" placeholder="Judul tulisan" required>
                </div>
                <div class="form-group">
                    <label for="uploadAuthor">Penulis</label>
                    <input type="text" id="uploadAuthor" placeholder="Nama penulis" required>
                </div>
                <div class="form-group">
                    <label for="uploadDiscipline">Disiplin Ilmu</label>
                    <select id="uploadDiscipline" required>
                        <option value="">Pilih disiplin ilmu</option>
                        <option value="Matematika">Matematika</option>
                        <option value="Fisika">Fisika</option>
                        <option value="Kimia">Kimia</option>
                        <option value="Biologi">Biologi</option>
                        <option value="Ilmu Komputer">Ilmu Komputer</option>
                        <option value="Ekonomi">Ekonomi</option>
                        <option value="Hukum">Hukum</option>
                        <option value="Sosiologi">Sosiologi</option>
                        <option value="Psikologi">Psikologi</option>
                        <option value="Geografi">Geografi</option>
                        <option value="Sastra">Sastra</option>
                        <option value="Sejarah">Sejarah</option>
                        <option value="Seni">Seni</option>
                        <option value="Linguistik">Linguistik</option>
                        <option value="Arkeologi">Arkeologi</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="uploadContent">Isi Tulisan</label>
                    <textarea id="uploadContent" placeholder="Tulis isi   di sini..." required></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelUploadBtn">Batal</button>
                    <button type="submit" class="btn">Kirim</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Article View Modal -->
    <div class="modal" id="articleModal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="modal-close" id="closeArticleModal">&times;</span>
            <h3 class="modal-title" id="articleModalTitle">Judul  </h3>
            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                <span id="articleAuthor" style="color: #6e8efb; font-weight: 600;"></span>
                <span id="articleDiscipline" class="tag"></span>
            </div>
            <div id="articleContent" style="line-height: 1.8; text-align: justify;">
                Isi   akan muncul di sini...
            </div>
            <div style="margin-top: 2rem; text-align: right;">
                <span id="articleViews" style="color: #777; font-size: 0.9rem;">
                    <i class="fas fa-eye"></i> 0 views
                </span>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Initialize local storage if empty
        if (!localStorage.getItem('articles')) {
            const defaultArticles = [
                {
                    id: 'logaritma',
                    title: 'Logaritma',
                    author: 'Admin Portal',
                    discipline: 'Matematika',
                    content: 'Logaritma adalah operasi matematika yang merupakan kebalikan (atau invers) dari eksponen atau pemangkatan. Logaritma digunakan untuk menentukan besar pangkat dari suatu bilangan pokok. Secara umum, logaritma ditulis sebagai a^c = b ⇔ ^a log b = c dengan a > 0, a ≠ 1, dan b > 0. Contoh: 10³ = 1000 maka log₁₀ 1000 = 3. Logaritma memiliki banyak aplikasi dalam sains, teknik, dan bidang lainnya yang berhubungan dengan skala besar.',
                    views: 0
                },
                {
                    id: 'neurosains',
                    title: 'Neurosains Kognitif',
                    author: 'Admin Portal',
                    discipline: 'Biologi',
                    content: 'Neurosains kognitif adalah bidang ilmiah yang mempelajari proses biologis yang mendasari kognisi, dengan fokus khusus pada hubungan saraf dalam otak yang terlibat dalam proses mental. Ini menggabungkan teori dan metode dari berbagai disiplin ilmu termasuk psikologi, ilmu saraf, linguistik, filsafat pikiran, ilmu komputer, dan antropologi. Neurosains kognitif berusaha memahami bagaimana fungsi psikologis diproduksi oleh sirkuit otak. Bidang ini telah membuat kemajuan signifikan dalam memahami mekanisme otak yang mendasari persepsi, memori, perhatian, bahasa, pengambilan keputusan, dan kesadaran.',
                    views: 0
                },
                {
                    id: 'machine-learning',
                    title: 'Machine Learning',
                    author: 'Admin Portal',
                    discipline: 'Ilmu Komputer',
                    content: 'Machine learning adalah cabang dari kecerdasan buatan (AI) yang berfokus pada pembangunan sistem yang dapat belajar dari data, mengidentifikasi pola, dan membuat keputusan dengan intervensi manusia yang minimal. Algoritma machine learning membangun model matematika berdasarkan data sampel (disebut "data pelatihan") untuk membuat prediksi atau keputusan tanpa diprogram secara eksplisit untuk melakukan tugas tersebut. Machine learning digunakan dalam berbagai aplikasi seperti pengenalan suara, rekomendasi produk, diagnosis medis, analisis pasar saham, dan kendaraan otonom. Ada tiga jenis utama machine learning: supervised learning, unsupervised learning, dan reinforcement learning.',
                    views: 0
                }
            ];
            localStorage.setItem('articles', JSON.stringify(defaultArticles));
        }

        // Sidebar Toggle
        const menuBtn = document.getElementById('menuBtn');
        const closeBtn = document.getElementById('closeBtn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const main = document.getElementById('main');

        menuBtn.addEventListener('click', () => {
            sidebar.classList.add('active');
            overlay.classList.add('active');
            main.classList.add('active');
        });

        closeBtn.addEventListener('click', () => {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            main.classList.remove('active');
        });

        overlay.addEventListener('click', () => {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            main.classList.remove('active');
        });

        // Gmail Modal
        const gmailModal = document.getElementById('gmailModal');
        const closeGmailModal = document.getElementById('closeGmailModal');
        const cancelGmailBtn = document.getElementById('cancelGmailBtn');
        const submitGmailBtn = document.getElementById('submitGmailBtn');
        const gmailInput = document.getElementById('gmailInput');
        const startLearningBtn = document.getElementById('startLearningBtn');

        let targetLink = null;

        function openGmailModal(link) {
            targetLink = link;
            gmailModal.classList.add('active');
        }

        function closeGmailModalFunc() {
            gmailModal.classList.remove('active');
            targetLink = null;
        }

        closeGmailModal.addEventListener('click', closeGmailModalFunc);
        cancelGmailBtn.addEventListener('click', closeGmailModalFunc);

        submitGmailBtn.addEventListener('click', () => {
            const email = gmailInput.value.trim();
            if (validateGmail(email)) {
                localStorage.setItem('user_gmail', email);
                if (targetLink) {
                    window.location.href = targetLink;
                }
                closeGmailModalFunc();
            } else {
                alert('Harap masukkan alamat Gmail yang valid (contoh: nama@gmail.com)');
            }
        });

        function validateGmail(email) {
            return /^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(email);
        }

        // Capture all links that require Gmail
        document.querySelectorAll('.sidebar-menu a, .card-footer a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                openGmailModal(this.getAttribute('href'));
            });
        });

        startLearningBtn.addEventListener('click', function(e) {
            e.preventDefault();
            openGmailModal('#');
        });

        // Upload Modal
        const uploadModal = document.getElementById('uploadModal');
        const closeUploadModal = document.getElementById('closeUploadModal');
        const cancelUploadBtn = document.getElementById('cancelUploadBtn');
        const uploadForm = document.getElementById('uploadForm');
        const uploadDiscipline = document.getElementById('uploadDiscipline');

        function openUploadModal(discipline) {
            if (discipline) {
                uploadDiscipline.value = discipline;
            }
            uploadModal.classList.add('active');
        }

        function closeUploadModalFunc() {
            uploadModal.classList.remove('active');
            uploadForm.reset();
        }

        closeUploadModal.addEventListener('click', closeUploadModalFunc);
        cancelUploadBtn.addEventListener('click', closeUploadModalFunc);

        // Upload button click handlers
        document.querySelectorAll('.upload-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const discipline = this.getAttribute('data-discipline');
                openUploadModal(discipline);
            });
        });

        // Handle form submission
        uploadForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('uploadTitle').value.trim();
            const author = document.getElementById('uploadAuthor').value.trim();
            const discipline = document.getElementById('uploadDiscipline').value;
            const content = document.getElementById('uploadContent').value.trim();
            
            if (!title || !author || !discipline || !content) {
                alert('Semua kolom harus diisi!');
                return;
            }
            
            const articleId = 'article-' + Date.now();
            const newArticle = {
                id: articleId,
                title,
                author,
                discipline,
                content,
                views: 0
            };
            
            // Save to local storage
            const articles = JSON.parse(localStorage.getItem('articles'));
            articles.push(newArticle);
            localStorage.setItem('articles', JSON.stringify(articles));
            
            // Refresh the card grid
            renderArticles();
            
            // Close modal and reset form
            closeUploadModalFunc();
            
            // Show success message
            alert('  berhasil diunggah!');
        });

        // Article Modal
        const articleModal = document.getElementById('articleModal');
        const closeArticleModal = document.getElementById('closeArticleModal');
        const articleModalTitle = document.getElementById('articleModalTitle');
        const articleAuthor = document.getElementById('articleAuthor');
        const articleDiscipline = document.getElementById('articleDiscipline');
        const articleContent = document.getElementById('articleContent');
        const articleViews = document.getElementById('articleViews');

        function viewArticle(articleId) {
            const articles = JSON.parse(localStorage.getItem('articles'));
            const article = articles.find(a => a.id === articleId);
            
            if (article) {
                // Update view count
                article.views++;
                localStorage.setItem('articles', JSON.stringify(articles));
                
                // Populate modal
                articleModalTitle.textContent = article.title;
                articleAuthor.textContent = 'Oleh: ' + article.author;
                articleDiscipline.textContent = article.discipline;
                articleContent.innerHTML = article.content.replace(/\n/g, '<br>');
                articleViews.innerHTML = `<i class="fas fa-eye"></i> ${article.views} views`;
                
                // Show modal
                articleModal.classList.add('active');
                
                // Re-render articles to update view counts
                renderArticles();
            }
        }

        closeArticleModal.addEventListener('click', () => {
            articleModal.classList.remove('active');
        });

        // Subscribe Form
        const subscribeForm = document.getElementById('subscribeForm');
        subscribeForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('subscribeEmail').value.trim();
            if (email) {
                alert('Terima kasih telah berlangganan! Kami akan mengirimkan pembaruan ke ' + email);
                subscribeForm.reset();
            }
        });

        // Render articles function
        function renderArticles() {
            const cardGrid = document.getElementById('cardGrid');
            if (!cardGrid) return;
            
            const articles = JSON.parse(localStorage.getItem('articles'));
            const sortedArticles = [...articles].sort((a, b) => b.views - a.views);
            
            // Clear existing cards except the first three default ones
            const defaultCards = Array.from(cardGrid.children).slice(0, 3);
            cardGrid.innerHTML = '';
            defaultCards.forEach(card => cardGrid.appendChild(card));
            
            // Add user-submitted articles
            sortedArticles.forEach(article => {
                // Skip default articles that are already shown
                if (['logaritma', 'neurosains', 'machine-learning'].includes(article.id)) return;
                
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => viewArticle(article.id);
                card.innerHTML = `
                    <div class="card-img">
                        <img src="https://source.unsplash.com/random/400x300/?${article.discipline.toLowerCase()}" alt="${article.title}">
                    </div>
                    <div class="card-content">
                        <h3>${article.title}</h3>
                        <p>${article.content.substring(0, 100)}...</p>
                    </div>
                    <div class="card-footer">
                        <span class="tag">${article.discipline}</span>
                        <span><i class="fas fa-eye"></i> ${article.views}</span>
                    </div>
                `;
                cardGrid.appendChild(card);
            });
        }

        // Initial render
        renderArticles();

        // Scroll effect for header
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 2px 15px rgba(0, 0, 0, 0.2)';
            } else {
                header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
            }
        });
    </script>
</body>
</html>
